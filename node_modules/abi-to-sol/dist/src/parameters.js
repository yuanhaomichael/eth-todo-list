"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toType = void 0;
function isStructParameter(parameter) {
    return parameter.type.startsWith("tuple");
}
function toType(parameter) {
    if (!isStructParameter(parameter)) {
        const kind = "elementary";
        const { type } = parameter;
        return {
            kind,
            parameterType: {
                type
            }
        };
    }
    const kind = "struct";
    const { type, internalType = "", components } = parameter;
    const match = internalType.match(/struct ([^\[]+).*/);
    if (!match) {
        return {
            kind,
            parameterType: {
                type,
                components
            }
        };
    }
    const possiblyQualifiedIdentifier = match[1];
    const parts = possiblyQualifiedIdentifier.split(".");
    if (parts.length === 1) {
        const [name] = parts;
        return {
            kind,
            parameterType: {
                type,
                components
            },
            identifier: {
                name
            }
        };
    }
    else {
        const [container, name] = parts;
        return {
            kind,
            parameterType: {
                type,
                components
            },
            identifier: {
                container,
                name
            }
        };
    }
}
exports.toType = toType;
//# sourceMappingURL=parameters.js.map